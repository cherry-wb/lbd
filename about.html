

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>About &mdash; Write An LLVM Backend Tutorial For Cpu0</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '3.1.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="#" />
    <link rel="top" title="Write An LLVM Backend Tutorial For Cpu0" href="index.html" />
    <link rel="next" title="Getting Started: Installing LLVM and the Cpu0 example code" href="install.html" />
    <link rel="prev" title="Table of Contents" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="install.html" title="Getting Started: Installing LLVM and the Cpu0 example code"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Table of Contents"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Write An LLVM Backend Tutorial For Cpu0</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="about">
<h1>About<a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h1>
<div class="section" id="authors">
<h2>Authors<a class="headerlink" href="#authors" title="Permalink to this headline">¶</a></h2>
<div class="figure align-right">
<img alt="_images/Author_ChineseName.png" src="_images/Author_ChineseName.png" />
</div>
<dl class="docutils">
<dt>Chen Chung-Shu</dt>
<dd><p class="first"><a class="reference external" href="mailto:gamma_chen&#37;&#52;&#48;yahoo&#46;com&#46;tw">gamma_chen<span>&#64;</span>yahoo<span>&#46;</span>com<span>&#46;</span>tw</a></p>
<p class="last"><a class="reference external" href="http://jonathan2251.github.com/web/index.html">http://jonathan2251.github.com/web/index.html</a></p>
</dd>
<dt>Anoushe Jamshidi</dt>
<dd><a class="reference external" href="mailto:ajamshidi&#37;&#52;&#48;gmail&#46;com">ajamshidi<span>&#64;</span>gmail<span>&#46;</span>com</a></dd>
</dl>
</div>
<div class="section" id="revision-history">
<h2>Revision history<a class="headerlink" href="#revision-history" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Version 3.1.1, Released November 28, 2012</dt>
<dd>Add Revision history.
Correct ldi instruction error (replace ldi instruction with addiu from the
beginning and in the all example code).
Move ldi instruction change from section of &#8220;Adjust cpu0 instruction and
support type of local variable pointer&#8221; to Section ”CPU0
processor architecture”.
Correct some English &amp; typing errors.</dd>
<dt>Version 3.1.2, Released February 28, 2012</dt>
<dd>Fix section 6.1 error by add “def : Pat&lt;(brcond RC:$cond, bb:$dst),
(JNEOp (CMPOp RC:$cond, ZEROReg), bb:$dst)&gt;;” in last pattern.
Modify section 5.5
Fix bug Cpu0InstrInfo.cpp SW to ST.
Correct LW to LD; LB to LDB; SB to STB.</dd>
</dl>
</div>
<div class="section" id="licensing">
<h2>Licensing<a class="headerlink" href="#licensing" title="Permalink to this headline">¶</a></h2>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Add info about LLVM documentation licensing.</p>
</div>
</div>
<div class="section" id="preface">
<h2>Preface<a class="headerlink" href="#preface" title="Permalink to this headline">¶</a></h2>
<p>The LLVM Compiler Infrastructure provides a versatile structure for creating new
backends. Creating a new backend should not be too difficult once you
familiarize yourself with this structure. However, the available backend
documentation is fairly high level and leaves out many details. This tutorial
will provide step-by-step instructions to write a new backend for a new target
architecture from scratch.</p>
<p>We will use the Cpu0 architecture as an example to build our new backend. Cpu0
is a simple RISC architecture that has been designed for educational purposes.
More information about Cpu0, including its instruction set, is available
<a class="reference external" href="http://ccckmit.wikidot.com/ocs:cpu0">here</a>. The Cpu0 example code referenced in
this book can be found <a class="reference external" href="http://jonathan2251.github.com/lbd/LLVMBackendTutorialExampleCode.tar.gz">here</a>.
As you progress from one chapter to the next, you will incrementally build the
backend&#8217;s functionality.</p>
<p>This tutorial was written using the LLVM 3.1 Mips backend as a reference. Since
Cpu0 is an educational architecture, it is missing some key pieces of
documentation needed when developing a compiler, such as an Application Binary
Interface (ABI). We implement our backend borrowing information from the Mips
ABI as a guide. You may want to familiarize yourself with the relevant parts of
the Mips ABI as you progress through this tutorial.</p>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Readers should be comfortable with the C++ language and Object-Oriented
Programming concepts. LLVM has been developed and implemented in C++, and it is
written in a modular way so that various classes can be adapted and reused as
often as possible.</p>
<p>Already having conceptual knowledge of how compilers work is a plus, and if you
already have implemented compilers in the past you will likely have no trouble
following this tutorial. As this tutorial will build up an LLVM backend
step-by-step, we will introduce important concepts as necessary.</p>
<p>This tutorial references the following materials.  We highly recommend you read
these documents to get a deeper understanding of what the tutorial is teaching:</p>
<p><a class="reference external" href="http://www.aosabook.org/en/llvm.html">The Architecture of Open Source Applications Chapter on LLVM</a></p>
<p><a class="reference external" href="http://llvm.org/docs/CodeGenerator.html">LLVM&#8217;s Target-Independent Code Generation documentation</a></p>
<p><a class="reference external" href="http://llvm.org/docs/TableGenFundamentals.html">LLVM&#8217;s TableGen Fundamentals documentation</a></p>
<p><a class="reference external" href="http://llvm.org/docs/WritingAnLLVMBackend.html">LLVM&#8217;s Writing an LLVM Compiler Backend documentation</a></p>
<p><a class="reference external" href="http://www.opus.ub.uni-erlangen.de/opus/volltexte/2010/1659/pdf/tricore_llvm.pdf">Description of the Tricore LLVM Backend</a></p>
<p><a class="reference external" href="http://www.linux-mips.org/pub/linux/mips/doc/ABI/mipsabi.pdf">Mips ABI</a></p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">Find official link for Mips ABI.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">About</a><ul>
<li><a class="reference internal" href="#authors">Authors</a></li>
<li><a class="reference internal" href="#revision-history">Revision history</a></li>
<li><a class="reference internal" href="#licensing">Licensing</a></li>
<li><a class="reference internal" href="#preface">Preface</a></li>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Table of Contents</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="install.html"
                        title="next chapter">Getting Started: Installing LLVM and the Cpu0 example code</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/about.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="install.html" title="Getting Started: Installing LLVM and the Cpu0 example code"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Table of Contents"
             >previous</a> |</li>
        <li><a href="index.html">Write An LLVM Backend Tutorial For Cpu0</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, LLVM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>